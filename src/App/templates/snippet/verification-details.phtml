<?php
/*
Without error
Mandatory: claim
Mandatory: caseNumber
Mandatory: postcodes
*/

/**
 * @var \Opg\Refunds\Caseworker\DataModel\Cases\Claim $claim
 * @var \Opg\Refunds\Caseworker\DataModel\Applications\CaseNumber $caseNumber
 * @var \Opg\Refunds\Caseworker\DataModel\Applications\Postcodes $postcodes
 */
?>

<h2 class="heading-medium heading-refunds">Verification details</h2>
<h2 class="notice notice-heading">
    <?php if ($this->isClaimVerified($claim)) { ?>
        <strong class="bold-small">Claim verified</strong>
        <i class="icon icon-tick" title="Verified">
            <span class="visually-hidden">Verified</span>
        </i>
    <?php } else { ?>
        <i class="icon icon-important">
            <span class="visually-hidden">Warning</span>
        </i>
        <strong class="bold-small">Claim unverified</strong>
    <?php } ?>
</h2>
<dl class="details">
    <div class="">
        <dt class="details-term">
            Attorney details
            <?php if ($this->isAttorneyVerified($claim)) { ?>
                <i class="icon icon-tick" title="Verified">
                    <span class="visually-hidden">Verified</span>
                </i>
            <?php } ?>
        </dt>
    </div>

    <?php if ($caseNumber->getPoaCaseNumber() !== null) { ?>
    <div class="">
        <dt class="details-term">
            Case number:
            <?php if ($this->isCaseNumberVerified($claim)) { ?>
                <i class="icon icon-tick" title="Verified">
                    <span class="visually-hidden">Verified</span>
                </i>
            <?php } ?>
        </dt>
        <dd class="detail-definition"><?= $caseNumber->getPoaCaseNumber() ?></dd>
    </div>
    <?php } ?>

    <?php if ($postcodes->getDonorPostcode() !== null) { ?>
    <div class="">
        <dt class="heading-small">
            Donor postcode:
            <?php if ($this->isDonorPostcodeVerified($claim)) { ?>
                <i class="icon icon-tick" title="Verified">
                    <span class="visually-hidden">Verified</span>
                </i>
            <?php } ?>
        </dt>
        <dd><?= $postcodes->getDonorPostcode() ?></dd>
    </div>
    <?php } ?>

    <?php if ($postcodes->getAttorneyPostcode() !== null) { ?>
    <div class="">
        <dt class="heading-small">
            Attorney postcode:
            <?php if ($this->isAttorneyPostcodeVerified($claim)) { ?>
                <i class="icon icon-tick" title="Verified">
                    <span class="visually-hidden">Verified</span>
                </i>
            <?php } ?>
        </dt>
        <dd><?= $postcodes->getAttorneyPostcode() ?></dd>
    </div>
    <?php } ?>
</dl>
